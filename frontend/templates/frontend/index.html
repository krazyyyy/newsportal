{% extends 'frontend/base.html' %}

{% block title %} Home {% endblock %}

{% load static %}

{% block static %}

<link rel="stylesheet" type="text/css" href="{% static 'frontend/assets/css/bootstrap.css' %}"/>
<link rel="stylesheet" type="text/css" href="{% static 'frontend/assets/css/style.css' %}"/>
<link rel="stylesheet" type="text/css" href="{% static 'frontend/assets/vendor/owl-slider.css' %}"/>
<link rel="stylesheet" type="text/css" href="{% static 'frontend/assets/vendor/custombox.min.css' %}"/>
<link rel="shortcut icon" href="{% static 'frontend/assets/images/favicon.png' %}" />

{% endblock %}

{% block body %} 

<!-- End pushmenu -->
<div class="wrappage">
    
    
    {% include 'frontend/header.html' %}
    <div class="row" style="    display: flex;
    justify-content: center;">
    <img src="{% static 'frontend/assets/images/top banner.jpg' %}" alt="">
    </div>
    <div class="row" style="    display: flex;
    justify-content: center;">
    <div class="home2-head box slide-owl-mobile nav-ver5">

    </div>
</div>




<div class="container">
    <div class="row">
        <div class="col-md-8">
            
    <img src="{% static 'frontend/assets/images/billboard.jpg' %}" alt="">


            <div class="title-v1">
                <h3>TRENDING</h3>
                <div class="orther-link">
                    <ul>
                        <li><a onclick="randomCategory()" title="All">All</a></li>
                        <li><a onclick="getByCategory('LifeStyle')" title="Social">Life Style</a></li>
                        <li><a onclick="getByCategory('Biznis')"  title="Business">Business</a></li>
                        <li><a onclick="getByCategory('Hrvatska')"  title="Travel">Travel</a></li>
                        <li><a onclick="getByCategory('Nogomet')" title="Sports">Sports</a></li>
                    </ul>
                </div>
            </div>
            <!-- End title -->
            <div class="trending box space-30">
                <div id="news_feed_main" class="row">
                    
                </div>
            </div>
            
        <img src="{% static 'frontend/assets/images/category.jpg' %}" alt="">
            <div class="title-v1">
                <h3>Vijesti</h3>
                <div class="orther-link">
                    <ul>
                        <li><a href="#" title="Cars">24Sata</a></li>
                        <li><a href="#" title="Developers">N1Info</a></li>
                        <li><a href="#" title="Gears">Novilist</a></li>
       
                    </ul>
                </div>
            </div>

            <div class="vijesti technnology box space-30">
               
            </div>
            
        <img src="{% static 'frontend/assets/images/category.jpg' %}" alt="">
            <div class="title-v1">
                <h3>Nogomet</h3>
                <div class="orther-link">
                    <ul>
                        <li><a href="#" title="Cars">24Sata</a></li>
                        <li><a href="#" title="Developers">N1Info</a></li>
                        <li><a href="#" title="Gears">Novilist</a></li>
       
                    </ul>
                </div>
            </div>

            <div id="Nogomet" class="technnology box space-30">
               
            </div>


          
        <img src="{% static 'frontend/assets/images/category.jpg' %}" alt="">
            <div class="title-v1">
                <h3>Show</h3>
                <div class="orther-link">
                    <ul>
                        <li><a href="#" title="Cars">24Sata</a></li>
                        <li><a href="#" title="Developers">N1Info</a></li>
                        <li><a href="#" title="Gears">Novilist</a></li>
       
                    </ul>
                </div>
            </div>

            <div id="tech_box" class="technnology box space-30">
               
            </div>

           

            
            <div class="box">
                <div class="row">
                    <div class="col-md-6">
                        <div class="title-v1">
                            <h3>Svijet</h3>
                        </div>
                        <!-- End tile -->
         
                        <!-- End box -->
                        <div class="row size-16 Svijet_16">
                         
                        </div>
                    </div>
                    <!-- End col-md-6 -->
                    <div class="col-md-6">
                        <div class="title-v1">
                            <h3>Biznis</h3>
                        </div>
                        <!-- End tile -->
                     
                        <!-- End box -->
                        <div class="row size-16 Bizniz_16">
                           
                        </div>
                    </div>
                    <!-- End col-md-6 -->
                </div>
            </div>
           
        

        </div>

        <div class="col-md-4">
            <aside class="widget social">
                <div class="item facebook">
                    <div class="bg">
                        <i class="fa fa-facebook"></i>
                        <p class="count">156,570</p>
                        <p class="text">Fans</p>
                    </div>
                </div>
                <div class="item twitter">
                    <div class="bg">
                        <i class="fa fa-twitter"></i>
                        <p class="count">3,562</p>
                        <p class="text">Followers</p>
                    </div>
                </div>
                <div class="item google">
                    <div class="bg">
                        <i class="fa fa-google-plus"></i>
                        <p class="count">29,546</p>
                        <p class="text">Followers</p>
                    </div>
                </div>
            </aside>
            <aside class="widget popular">
                <h3 class="widget-title">MOST POPULAR</h3>
                <div class="content" id="popular_dynm">

                </div>
            </aside>
            </div>
    </div>
</div>





{% include 'frontend/footer.html' %}

</div>

<style>
 
</style>
<script>
    function updateDate(elem) {
       elem = elem.replace("+0100", "")
       elem = elem.replace("+0200", "") 
       elem = elem.replace("+0000", "") 
       elem = elem.replace("000Z", "") 
       elem = elem.replace("Mon", "") 
       elem = elem.replace("Tue", "") 
       elem = elem.replace("Wed", "") 
       elem = elem.replace("Thu", "") 
       elem = elem.replace("Fri", "") 
       elem = elem.replace("Sun", "") 
       elem = elem.replace("Sat", "") 
       elem = elem.replace("Jan", "1") 
       elem = elem.replace("Feb", "2") 
       elem = elem.replace("Apr", "3") 
       elem = elem.replace("Mar", "4") 
       elem = elem.replace("May", "5") 
       elem = elem.replace("Jun", "6") 
       elem = elem.replace("Jul", "7") 
       elem = elem.replace("Aug", "8") 
       elem = elem.replace("Sep", "9") 
       elem = elem.replace("Oct", "10") 
       elem = elem.replace("Nov", "11") 
       elem = elem.replace("Dec", "12") 
       elem = elem.split("prije") 
       return elem
    }


    fetch(`rss/randomNewsCategory/2/Biznis`)
    .then(response => response.json())
    .then(data => {
        info = data['feed']
        elm = document.querySelector(".Bizniz_16")
        for (var i = 0; i < info.length; i ++) {
            elm.innerHTML += `
            <div class="col-md-6 col-sm-6">
                                <div class="post-item ver3 overlay">
                                    <div class="wrap-images">
                                        <a class="images" href="${info[i]['link']}" title="images"><img class='img-responsive' src="${info[i]['img']}" alt="${info[i]['title']}"></a>
                                        <div class="tag">
                                            <p class="date">${info[i]['source']} prije ${updateDate(info[i]['pub_date'])}</p>
                                        </div>
                                    </div>
                                    <div class="text">
                                        <h2><a href="${info[i]['link']}" title="${info[i]['title']}">${info[i]['title']}</a></h2>
                                        
                                    </div>
                                </div>
                                <!-- End item -->
                            </div>
            `
        }
    })
    fetch(`rss/randomNewsCategory/2/Svijet`)
    .then(response => response.json())
    .then(data => {
        info = data['feed']
        elm = document.querySelector(".Svijet_16")
        for (var i = 0; i < info.length; i ++) {
            elm.innerHTML += `
            <div class="col-md-6 col-sm-6">
                                <div class="post-item ver3 overlay">
                                    <div class="wrap-images">
                                        <a class="images" href="${info[i]['link']}" title="images"><img class='img-responsive' src="${info[i]['img']}" alt="${info[i]['title']}"></a>
                                        <div class="tag">
                                            <p class="date"> ${info[i]['source']} prije ${updateDate(info[i]['pub_date'])}</p>
                                        </div>
                                    </div>
                                    <div class="text">
                                        <h2><a href="${info[i]['link']}" title="title">${info[i]['title']}</a></h2>
        
                                    </div>
                                </div>
                                <!-- End item -->
                            </div>
            `
        }
    })
    fetch(`rss/randomNewsCategory/1/Biznis`)
    .then(response => response.json())
    .then(data => {
        info = data['feed']
        elm = document.querySelector(".Biznis")
        for (var i = 0; i < info.length; i ++) {
        elm.innerHTML += `
        <div class="post-item ver3 overlay max-width-700">
                                <div class="wrap-images">
                                    <a class="images" href="${info[i]['link']}" title="images"><img class='img-responsive' src="${info[i]['img']}" alt="${info[i]['title']}"></a>
                                    <div class="tag">
                                        <p class="date"> ${info[i]['source']} prije ${updateDate(info[i]['pub_date'])}</p>
                                    </div>
                                </div>
                                <div class="text">
                                    <h2><a href="${info[i]['link']}" title="title">${info[i]['title']}</a></h2>
                                    <p>${info[i]['source']}</p>
                                    <a class="read-more" href="${info[i]['link']}" title="read more">read more</a>
                                </div>
                            </div>
        `
        }
    })
    fetch(`rss/randomNewsCategory/1/Nogomet`)
    .then(response => response.json())
    .then(data => {
        info = data['feed']
        elm = document.querySelector(".footer_news")
        for (var i = 0; i < info.length; i ++) {
        elm.innerHTML += `
        <div class="post-item ver3 overlay max-width-700">
                                <div class="wrap-images">
                                    <a class="images" href="${info[i]['link']}" title="images"><img style="width:100%; height:230px !important" class='img-responsive' src="${info[i]['img']}" alt="${info[i]['title']}"></a>
                                    <div class="tag">
                                        <p class="date"> ${info[i]['source']} prije ${updateDate(info[i]['pub_date'])}</p>
                                    </div>
                                </div>
                                <div class="text">
                                    <h2><a href="${info[i]['link']}" title="title">${info[i]['title']}</a></h2>
                                    
                                    <a class="read-more" href="${info[i]['link']}" >read more</a>
                                </div>
                            </div>
        `
        }
    })
    fetch(`rss/randomNewsCategory/1/Svijet`)
    .then(response => response.json())
    .then(data => {
        info = data['feed']
        elm = document.querySelector(".Svijet")
        for (var i = 0; i < info.length; i ++) {
        elm.innerHTML += `
        <div class="post-item ver3 overlay max-width-700">
                                <div class="wrap-images">
                                    <a class="images" href="${info[i]['link']}" title="images"><img style="width:100%; height:230px !important" class='img-responsive' src="${info[i]['img']}" alt="${info[i]['title']}"></a>
                                    <div class="tag">
                                        <p class="date"> ${info[i]['source']} prije ${updateDate(info[i]['pub_date'])}</p>
                                    </div>
                                </div>
                                <div class="text">
                                    <h2><a href="${info[i]['link']}" title="title">${info[i]['title']}</a></h2>
                                    <a class="read-more" href="${info[i]['link']}" title="read more">read more</a>
                                </div>
                            </div>
        `
        }
    })
        fetch(`rss/getNewsCategory/4/show`)
        .then(response => response.json())
        .then(data => {
            info = data['feed']
            home_head = document.querySelector("#tech_box")
            for ( var i = 0; i < info.length; i ++) { 
            home_head.innerHTML += `
            <div class="post-item ver2">
                    <a class="images" href="${info[i]['link']}" title="images"><img class='img-responsive' src="${info[i]['img']}" alt="${info[i]['title']}"></a>
                    <div class="text">
                        <h2><a href="${info[i]['link']}" title="title">${info[i]['title']}</a></h2>
                        <div class="tag">
                            <p class="date"> ${info[i]['source']} prije ${updateDate(info[i]['pub_date'])}</p>
                             
                        </div>
                        <a class="read-more" href="${info[i]['link']}" title="readMore">Read More</a>
                    </div>
                </div>
            `
            }
        })
        fetch(`rss/getNewsCategory/4/Nogomet`)
        .then(response => response.json())
        .then(data => {
            info = data['feed']
            home_head = document.querySelector("#Nogomet")
            for ( var i = 0; i < info.length; i ++) { 
            home_head.innerHTML += `
            <div class="post-item ver2">
                    <a class="images" href="${info[i]['link']}" title="images"><img class='img-responsive' src="${info[i]['img']}" alt="${info[i]['title']}"></a>
                    <div class="text">
                        <h2><a href="${info[i]['link']}" title="title">${info[i]['title']}</a></h2>
                        <div class="tag">
                            <p class="date"> ${info[i]['source']} prije ${updateDate(info[i]['pub_date'])}</p>
                             
                        </div>
                        <a class="read-more" href="${info[i]['link']}" title="readMore">Read More</a>
                    </div>
                </div>
            `
            }
        })
        fetch(`rss/getNewsCategory/4/vijesti`)
        .then(response => response.json())
        .then(data => {
            info = data['feed']
            home_head = document.querySelector(".vijesti")
            for ( var i = 0; i < info.length; i ++) { 
            home_head.innerHTML += `
            <div class="post-item ver2">
                    <a class="images" href="${info[i]['link']}" title="images"><img class='img-responsive' src="${info[i]['img']}" alt="${info[i]['title']}"></a>
                    <div class="text">
                        <h2><a href="${info[i]['link']}" title="title">${info[i]['title']}</a></h2>
                        <div class="tag">
                            <p class="date"> ${info[i]['source']} prije ${updateDate(info[i]['pub_date'])}</p>
                             
                        </div>
                        <a class="read-more" href="${info[i]['link']}" title="readMore">Read More</a>
                    </div>
                </div>
            `
            }
        })
        fetch(`rss/getNewsCategory/4/Nogomet`)
        .then(response => response.json())
        .then(data => {
            info = data['feed']
            home_head = document.querySelector(".footer_details")
            for ( var i = 0; i < info.length; i ++) { 
            home_head.innerHTML += `
            <div class="post-item ver2">
                    <a class="images" href="${info[i]['link']}" title="images"><img class='img-responsive' src="${info[i]['img']}" alt="${info[i]['title']}"></a>
                    <div class="text">
                        <h2><a href="${info[i]['link']}" title="title">${info[i]['title']}</a></h2>
                        
                        <div class="tag">
                            <p class="date"> ${info[i]['source']} prije ${updateDate(info[i]['pub_date'])}</p>
                             
                        </div>
                        <a class="read-more" href="${info[i]['link']}" title="readMore">Read More</a>
                    </div>
                </div>
            `
            }
        })
    
        


        fetch(`/rss/randomNews/5`)
        .then(response => response.json())
        .then(data => {
            info = data['feed']
            home_head = document.querySelector("#popular_dynm")
            for ( var i = 0; i < info.length; i ++) { 
            if (i == 0) {
                cls = "post-item ver2"
            }
            else {
                cls = "post-item ver2 "
            }
                home_head.innerHTML += `
            <div class="${cls}">
                                <a class="images" href="${info[i]['link']}" title="${info[i]['title']}"><img class='img-responsive' src="${info[i]['img']}" alt="images"></a>
                                <div class="text">
                                    <h2><a href="" title="title">${info[i]['title']}</a></h2>
                                    
                                    <div class="tag">
                                        <p class="date">${info[i]['source']} prije ${updateDate(info[i]['pub_date'])}</p>
                                    </div>
                                </div>
                            </div>
            ` 
            
        }
        })

        fetch(`/rss/randomNews/4`)
        .then(response => response.json())
        .then(data => {
            info = data['feed']
            home_head = document.querySelector("#news_feed_main")
            for ( var i = 0; i < info.length; i ++) { 
            home_head.innerHTML += `
            <div class="col-md-6 col-sm-6 space-30">
                        <div class="post-item ver4 overlay-v2 cat-4" style="height: 210px; overflow: hidden;">
                            <a class="images" href="${info[i]['link']}" title="images"><img class='img-responsive' src="${info[i]['img']}" alt="${info[i]['title']}"></a>
                          
                        
                        </div>
                        <div>
                            <a class="wrap dsg" href="${info[i]['link']}"><h4>${info[i]['title']}</h4></a>
                            <small class="wrap" class="date">${info[i]['source']} prije ${updateDate(info[i]['pub_date'])}</small>
                        </div>
                        <!-- End item -->
                    </div>
            `
                }
        })

        fetch(`/rss/latest/3`)
        .then(response => response.json())
        .then(data => {
            info = data['feed']
            home_head = document.querySelector(".home2-head")
            for ( var i = 0; i < info.length; i ++) { 
            home_head.innerHTML += `
            <div class="col-md-4 col-sm-4" >
            <div class="post-item ver1 cat-3 overlay">
                <a class="images" href="#" title="images"><img id="img-head-news" class='img-responsive' src="${info[i]['img']}" alt="${info[i]['title']}"></a>
                
            </div>

                <a class="wrap dsg" href="${info[i]['link']}"><h4>${info[i]['title']}</h4></a>
                <small class="wrap" class="date">${info[i]['source']} prije ${updateDate(info[i]['pub_date'])}</small>
            </div>
<!-- End item -->
        </div>
            ` 
    }
        })
    
function getByCategory(cat) {
    fetch(`rss/getNewsCategory/4/${cat}`)
        .then(response => response.json())
        .then(data => {
            info = data['feed']
            home_head = document.querySelector("#news_feed_main")
            home_head.innerHTML = ""
            for ( var i = 0; i < info.length; i ++) { 
            home_head.innerHTML += `
            <div class="col-md-6 col-sm-6 space-30">
                        <div class="post-item ver4 overlay-v2 cat-4" style="height: 210px; overflow: hidden;">
                            <a class="images" href="${info[i]['link']}" title="images"><img class='img-responsive' src="${info[i]['img']}" alt="${info[i]['title']}"></a>
                            <div class="text">
                                <span class="lable">${info[i]['category']}</span>
                                <h2><a href="#" title="title">${info[i]['title']}</a>
                                    </br>${info[i]['source']} 
                                    </h2>
                                <p>${info[i]['source']}</p>
                                <div class="tag">
                                    <p class="date">${info[i]['source']} prije ${updateDate(info[i]['pub_date'])}</p>
                                     
                                </div>
                            </div>
                        </div>
                        <!-- End item -->
                    </div>
            `
                }
        })
}

function randomCategory() {
    fetch(`/rss/randomNews/4`)
        .then(response => response.json())
        .then(data => {
            info = data['feed']
            home_head = document.querySelector("#news_feed_main")
            home_head = ""
            for ( var i = 0; i < info.length; i ++) { 
            home_head.innerHTML += `
            <div class="col-md-6 col-sm-6 space-30">
                        <div class="post-item ver4 overlay-v2 cat-4" style="height: 210px; overflow: hidden;">
                            <a class="images" href="${info[i]['link']}" title="images"><img class='img-responsive' src="${info[i]['img']}" alt="${info[i]['title']}"></a>
                         
                        </div>
                        <div>
                            <a class="wrap dsg" href="${info[i]['link']}"><h4>${info[i]['title']}</h4></a>
                            <small class="wrap" class="date">${info[i]['source']} prije ${updateDate(info[i]['pub_date'])}</small>
                        </div>
                        <!-- End item -->
                    </div>
            `
                }
        })
}

</script>



<script type="text/javascript" src="{% static 'frontend/assets/js/jquery-3.1.1.min.js' %}"></script>
<script type="text/javascript" src="{% static 'frontend/assets/js/bootstrap.min.js' %}"></script>
<script type="text/javascript" src="{% static 'frontend/assets/js/owl.carousel.min.js' %}"></script>
<script type="text/javascript" src="{% static 'frontend/assets/js/jquery.themepunch.revolution.min.js' %}"></script>
<script type="text/javascript" src="{% static 'frontend/assets/js/jquery.themepunch.plugins.min.js' %}"></script>
<script type="text/javascript" src="{% static 'frontend/assets/js/engo-plugins.js' %}"></script>
<script type="text/javascript" src="{% static 'frontend/assets/js/custombox.min.js' %}"></script>
<script type="text/javascript" src="{% static 'frontend/assets/js/legacy.min.js' %}"></script>
<script type="text/javascript" src="{% static 'frontend/assets/js/store.js' %}"></script>



{% endblock %}